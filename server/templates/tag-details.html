{{define "tagDetails"}}
<html>

<head>
  {{template "head" .}}
  <title>{{ .RegistryDomain }}/{{ .Image }}</title>
  <link rel="stylesheet" href="/css/github.css">
  <link rel="stylesheet" href="/css/gfm.css">
  <script src="/js/highlight.pack.js"></script>
  <script>
     $(document).ready(function(){
       $("ul.nav-tabs a").click(function (e) {
          e.preventDefault();
          $(this).tab('show');
       });
     });
  </script>
</head>

<body>
    <div class="container">

    {{template "header" .}}

    <main role="main">
        <h2 class="text-center">{{ .RegistryDomain }}/{{ .Image }}:{{ .Tag }}</h2>
    <p class="pull-commands">
    docker pull {{ .RegistryDomain }}/{{ .Image }}:{{ .Tag }}
    <br>
    rkt --insecure-options=image fetch docker://{{ .RegistryDomain }}/{{ .Image }}:{{ .Tag }}
    <br>
    skopeo --insecure-policy copy docker://{{ .RegistryDomain }}/{{ .Image }}:{{ .Tag }}
    <br>
    oci:{{ .Image }}:{{ .Tag }}
    </p>

      <ul class="nav nav-tabs mb-3" id="master-tab">
        {{ if ne .TargetFile "" }}
        <li class="nav-item">
          <a class="nav-link" id="dockerfile-tab" href="#dockerfile">Dockerfile</a>
        </li>
        {{ end }}
        <li class="nav-item">
          <a class="nav-link active" id="build-logs-tab" href="#build-logs" style="padding-left:0;">Build Logs</a>
        </li>
        {{ if ne .Readme "" }}
        <li class="nav-item">
          <a class="nav-link" id="description-tab" href="#description">Description</a>
        </li>
        {{ end }}
      </ul>
      <div class="tab-content" id="master-tabContent">
        {{ if ne .TargetFile "" }}
          <div class="tab-pane fade active in" id="dockerfile">
            <p>
            Source Repo: <a href={{ .SourceRepo }}>{{ .SourceRepo }}</a>
               <br/>
            </p>
            <pre class="highlight-code"><code class="dockerfile">{{ .TargetFile }}</code></pre>
          </div>
        {{ end }}
        <div class="tab-pane fade" id="build-logs">
           <div class="tabbable">
               <ul class="nav nav-tabs mb-3" id="bl-tab">
                 <li class="nav-item">
                   <a class="nav-link active" id="bl-build-logs" href="#bl-build-logs-content">Build Logs</a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="bl-pre-build-tab" href="#bl-pre-build">Pre-build Logs</a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="bl-linter-logs" href="#bl-linter-logs">Targetfile Linting Logs</a>
                 </li>
                 <li class="nav-item">
                   <a class="nav-link" id="bl-scan-logs" href="#bl-scan-logs">Scan Logs</a>
                 </li>
               <ul>
               <div class="tab-content" id="bl-tabContent">
                    <div class="tab-pane fade active in" id="bl-build-logs-content">
                            {{ .BuildLogs.BuildLog }}
                    </div>
                    <div class="tab-pane fade" id="bl-pre-build">
                            {{ .BuildLogs.PreBuildLog }}
                    </div>
                    <div class="tab-pane fade" id="bl-linter-logs">
                            {{ .BuildLogs.LintLog }}
                    </div>
                    <div class="tab-pane fade" id="bl-scan-logs">
                        {{ .BuildLogs.ScanLog }}
                    </div>
                </div>
             </div>
            </div>
        {{ if ne .Readme "" }}
          <div class="tab-pane fade" id="description">
            <p class="markdown-body">
             {{ .Readme }}
            </p>
          </div>
        {{ end }}
    </div>
    {{template "footer" .}}

    </main>

    <script src="/js/scripts.js"></script>

</div>
</body>
</html>
{{end}}
